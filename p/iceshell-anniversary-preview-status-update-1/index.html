<!doctype html><html lang=en dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="New command resolution system and more!"><title>IceShell Anniversary Preview - Status Update 1</title>
<link rel=canonical href=https://withlithum.github.io/p/iceshell-anniversary-preview-status-update-1/><link rel=stylesheet href=/scss/style.min.8191399262444ab68b72a18c97392f5349be20a1615d77445be51e974c144cff.css><meta property="og:title" content="IceShell Anniversary Preview - Status Update 1"><meta property="og:description" content="New command resolution system and more!"><meta property="og:url" content="https://withlithum.github.io/p/iceshell-anniversary-preview-status-update-1/"><meta property="og:site_name" content="WithLithum"><meta property="og:type" content="article"><meta property="article:section" content="Post"><meta property="article:tag" content="iceshell"><meta property="article:tag" content="dotnet"><meta property="article:tag" content="shell"><meta property="article:tag" content="command-line"><meta property="article:published_time" content="2023-11-18T08:55:23+08:00"><meta property="article:modified_time" content="2023-11-18T08:55:23+08:00"><meta property="og:image" content="https://withlithum.github.io/p/iceshell-anniversary-preview-status-update-1/cover.png"><meta name=twitter:title content="IceShell Anniversary Preview - Status Update 1"><meta name=twitter:description content="New command resolution system and more!"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://withlithum.github.io/p/iceshell-anniversary-preview-status-update-1/cover.png"></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label="Toggle Menu">
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/img/avatar_hu6c957bf8c7a6e7515cca527af9f61681_66413_300x0_resize_box_3.png width=300 height=300 class=site-logo loading=lazy alt=Avatar></a></figure><div class=site-meta><h1 class=site-name><a href=/>WithLithum</a></h1><h2 class=site-description>Hobbyist. Modder. Mapper.</h2></div></header><ol class=social-menu><li><a href=https://codeberg.org/WithLithum target=_blank title=Codeberg rel=me><svg width="16" height="16" viewBox="0 0 4.2333332 4.2333335" id="svg1468" sodipodi:docname="codeberg-logo_icon_white.svg" inkscape:version="1.2-alpha1 (b6a15bb, 2022-02-23)" inkscape:export-filename="/home/robert/Documents/Codeberg/Logo-Kit/svg/Codeberg-favicon_64px.png" inkscape:export-xdpi="384" inkscape:export-ydpi="384" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape" xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:cc="http://creativecommons.org/ns#" xmlns:dc="http://purl.org/dc/elements/1.1/"><title id="title16">Codeberg logo</title><defs id="defs1462"><linearGradient xlink:href="#linearGradient6924" id="linearGradient6918" x1="42519.285" y1="-7078.7891" x2="42575.336" y2="-6966.9307" gradientUnits="userSpaceOnUse"/><linearGradient id="linearGradient6924"><stop style="stop-color:#2185d0;stop-opacity:0" offset="0" id="stop6920"/><stop id="stop6926" offset=".49517274" style="stop-color:#2185d0;stop-opacity:.48923996"/><stop style="stop-color:#2185d0;stop-opacity:.63279623" offset="1" id="stop6922"/></linearGradient><linearGradient xlink:href="#linearGradient6924-6" id="linearGradient6918-3" x1="42519.285" y1="-7078.7891" x2="42575.336" y2="-6966.9307" gradientUnits="userSpaceOnUse"/><linearGradient id="linearGradient6924-6"><stop style="stop-color:#ffffff;stop-opacity:0" offset="0" id="stop6920-7"/><stop id="stop6926-5" offset=".49517274" style="stop-color:#ffffff;stop-opacity:.30000001"/><stop style="stop-color:#ffffff;stop-opacity:.30000001" offset="1" id="stop6922-3"/></linearGradient></defs><sodipodi:namedview showborder="false" id="base" pagecolor="#000000" bordercolor="#666666" borderopacity="1" inkscape:pageopacity="0" inkscape:pageshadow="2" inkscape:zoom="22.627417" inkscape:cx="2.8505242" inkscape:cy="18.274291" inkscape:document-units="px" inkscape:current-layer="svg1468" inkscape:document-rotation="0" showgrid="false" fit-margin-top="0" fit-margin-left="0" fit-margin-right="0" fit-margin-bottom="0" units="px" inkscape:snap-global="false" inkscape:snap-page="true" showguides="false" inkscape:window-width="1531" inkscape:window-height="873" inkscape:window-x="69" inkscape:window-y="27" inkscape:window-maximized="1" inkscape:pagecheckerboard="0" inkscape:deskcolor="#d1d1d1"><inkscape:grid type="xygrid" id="grid2067"/></sodipodi:namedview><g id="g370484" inkscape:label="logo" transform="matrix(0.06551432,0,0,0.06551432,-2.232417,-1.431776)"><path id="path6733-5" style="font-variation-settings:normal;opacity:1;vector-effect:none;fill:url(#linearGradient6918-3);fill-opacity:1;stroke:none;stroke-width:3.67846;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:2;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;paint-order:stroke markers fill;stop-color:#000000;stop-opacity:1" d="m42519.285-7078.7891a.76086879.56791688.0 00-.738.6739l33.586 125.8886a87.182358 87.182358.0 0039.381-33.7636l-71.565-92.5196a.76086879.56791688.0 00-.664-.2793z" transform="matrix(0.37058478,0,0,0.37058478,-15690.065,2662.0533)" inkscape:label="berg"/><path id="path360787" style="opacity:1;fill:#fff;fill-opacity:1;stroke-width:17.0055;paint-order:markers fill stroke;stop-color:#000000" d="m11249.461-1883.6961c-12.74.0-23.067 10.3275-23.067 23.0671.0 4.3335 1.22 8.5795 3.522 12.2514l19.232-24.8636c.138-.1796.486-.1796.624.0l19.233 24.8646c2.302-3.6721 3.523-7.9185 3.523-12.2524.0-12.7396-10.327-23.0671-23.067-23.0671z" sodipodi:nodetypes="sccccccs" inkscape:label="sky" transform="matrix(1.4006354,0,0,1.4006354,-15690.065,2662.0533)"/></g></svg></a></li><li><a href=https://github.com/WithLithum/ target=_blank title=GitHub rel=me><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li><li><a href=https://gitlab.com/WithLithum/ target=_blank title="GitLab SaaS" rel=me><svg xmlns="http://www.w3.org/2000/svg" height="16" width="16" viewBox="0 0 512 512"><path opacity="1" fill="#1e3050" d="M503.5 204.6 502.8 202.8 433.1 21C431.7 17.5 429.2 14.4 425.9 12.4 423.5 10.8 420.8 9.9 417.9 9.6 415 9.3 412.2 9.7 409.5 10.7S404.4 13.3 402.4 15.5C400.5 17.6 399.1 20.1 398.3 22.9l-47 144H160.8l-47.1-144C112.9 20.1 111.5 17.6 109.6 15.5 107.6 13.4 105.2 11.7 102.5 10.7 99.9 9.7 97 9.3 94.1 9.6 91.3 9.9 88.5 10.8 86.1 12.4 82.8 14.4 80.3 17.5 78.9 21L9.3 202.8 8.5 204.6c-10 26.2-11.2 55-3.5 82 7.8 26.9 24.1 50.7 46.5 67.6L51.7 354.4 52.3 354.8l106 79.5L210.9 474l32 24.2C246.6 500.1 251.2 502.5 255.9 502.5S265.2 500.1 268.9 498.2l32-24.2 52.6-39.7 106.7-79.9L460.5 354.1c22.4-16.9 38.7-40.6 45.6-67.5C514.7 259.6 513.5 230.8 503.5 204.6z"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg><span>Home</span></a></li><li><a href=/archives/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg><span>Archives</span></a></li><li><a href=/search/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg><span>Search</span></a></li><li><a href=/links/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M10 14a3.5 3.5.0 005 0l4-4a3.5 3.5.0 00-5-5l-.5.5"/><path d="M14 10a3.5 3.5.0 00-5 0l-4 4a3.5 3.5.0 005 5l.5-.5"/></svg><span>Links</span></a></li><li><a href=/projects/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-code" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M7 8l-4 4 4 4"/><path d="M17 8l4 4-4 4"/><path d="M14 4l-4 16"/></svg><span>Projects</span></a></li><li><a href=/contact/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="7" r="4"/><path d="M6 21v-2a4 4 0 014-4h4a4 4 0 014 4v2"/></svg><span>Contact</span></a></li><li><a href=/signature/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-tag" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11 3l9 9a1.5 1.5.0 010 2l-6 6a1.5 1.5.0 01-2 0L3 11V7a4 4 0 014-4h4"/><circle cx="9" cy="9" r="2"/></svg><span>Signature</span></a></li><div class=menu-bottom-section><li id=dark-mode-toggle><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg><span>Dark Mode</span></li></div></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">Table of contents</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#internal-command-registry>Internal Command Registry</a><ol><li><a href=#rewrite-of-registry-system>Rewrite of registry system</a></li><li><a href=#separation-of-command-aliases-and-ids>Separation of command aliases and IDs</a></li></ol></li><li><a href=#platform-modules>Platform Modules</a></li><li><a href=#command-changes>Command Changes</a><ol><li><a href=#bundled-commands>Bundled Commands</a></li><li><a href=#command-help>Command Help</a></li><li><a href=#command-actions>Command Actions</a></li><li><a href=#argument-parsing>Argument Parsing</a></li></ol></li><li><a href=#in-the-end>In the end&mldr;</a></li></ol></nav></div></section></aside><main class="main full-width"><article class="has-image main-article"><header class=article-header><div class=article-image><a href=/p/iceshell-anniversary-preview-status-update-1/><img src=/p/iceshell-anniversary-preview-status-update-1/cover_hu7163e30c5a7469709a902875503ada32_194914_800x0_resize_box_3.png srcset="/p/iceshell-anniversary-preview-status-update-1/cover_hu7163e30c5a7469709a902875503ada32_194914_800x0_resize_box_3.png 800w, /p/iceshell-anniversary-preview-status-update-1/cover_hu7163e30c5a7469709a902875503ada32_194914_1600x0_resize_box_3.png 1600w" width=800 height=294 loading=lazy alt="Featured image of post IceShell Anniversary Preview - Status Update 1"></a></div><div class=article-details><header class=article-category><a href=/categories/programming/>Programming</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/p/iceshell-anniversary-preview-status-update-1/>IceShell Anniversary Preview - Status Update 1</a></h2><h3 class=article-subtitle>New command resolution system and more!</h3></div><footer class=article-time><div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg><time class=article-time--published>Nov 18, 2023</time></div><div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg><time class=article-time--reading>4 minute read</time></div></footer></div></header><section class=article-content><p>This is the first status update for the IceShell Anniversary Preview (v0.3.0-alpha), which is set to release at 1st of Feburary 2024, exactly one year after its first commit. While I&rsquo;ve been working on it for the last year, there weren&rsquo;t some major improvements until the Anniversary Preview were planned.</p><p>The Anniversary Preview comes with the overhual of one of the systems that IceShell relies on - internal command registry.</p><h2 id=internal-command-registry>Internal Command Registry</h2><p>Let&rsquo;s outline the main changes made to the Internal Command Registry system:</p><h3 id=rewrite-of-registry-system>Rewrite of registry system</h3><ul><li>The attribute-based command system have been decoupled from the command registry system. Instead, you need to maintain an instance of <code>AnnotatedCommandRegistry</code>. This change does not bring breaking API changes to the attributes surface, though!</li><li>You can now register commands with a <code>CommandRegistryEntry</code> which describes the command, and a <code>CommandDelegate</code> which handles the execution of the command.</li><li>The command manager (<code>ICommandManager</code>) and dispatcher (<code>ICommandDispatcher</code>) interface have been merged to a single interface, the <code>IRegistryCommandDispatcher</code> interface!</li></ul><p>Here is an example of how to register an annotated command under the new system:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=kt>var</span> <span class=n>registry</span> <span class=p>=</span> <span class=k>new</span> <span class=n>AnnotatedCommandRegistry</span><span class=p>(</span><span class=n>dispatcher</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=n>registry</span><span class=p>.</span><span class=n>Register</span><span class=p>(</span><span class=k>typeof</span><span class=p>(</span><span class=n>AnnotatedCommand</span><span class=p>));</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Whereas the shell is the dispatcher that is passed via shell or module initialisation.</span>
</span></span><span class=line><span class=cl><span class=c1>// and AnnotatedCommand is the command you are going to register.</span>
</span></span></code></pre></td></tr></table></div></div><p>Here is a demonstration of how to register a command without an annotated shell command class:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=kt>var</span> <span class=n>entry</span> <span class=p>=</span> <span class=k>new</span> <span class=n>CommandRegistryEntry</span><span class=p>(</span><span class=s>&#34;command&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kt>var</span> <span class=n>val</span> <span class=p>=</span> <span class=n>entry</span><span class=p>.</span><span class=n>AddValue</span><span class=p>(</span><span class=s>&#34;value&#34;</span><span class=p>,</span> <span class=m>0</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>dispatcher</span><span class=p>.</span><span class=n>Register</span><span class=p>(</span><span class=n>entry</span><span class=p>,</span> <span class=p>(</span><span class=n>shell</span><span class=p>,</span> <span class=n>executor</span><span class=p>,</span> <span class=n>context</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>Console</span><span class=p>.</span><span class=n>WriteLine</span><span class=p>(</span><span class=n>context</span><span class=p>.</span><span class=n>Arguments</span><span class=p>.</span><span class=n>Values</span><span class=p>[</span><span class=n>val</span><span class=p>]);</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>dispatcher</span><span class=p>.</span><span class=n>Execute</span><span class=p>(</span><span class=s>&#34;command testvalue&#34;</span><span class=p>);</span> <span class=c1>// testvalue</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=separation-of-command-aliases-and-ids>Separation of command aliases and IDs</h3><p>Once a time ago, there are no command aliases, and commands are directly referred to with their ID (called <em>Name</em> at that time). Because of there are requirements for supporting commands with multiple names, an alias feature was added. The alias feature were implemented by registering the same command twice or more times under different names.</p><p>In the Anniversary Preview, the command IDs and aliases are now registered separately:</p><ul><li><p>The same command registered with two or more IDs are treated with separate commands (or separate instances of the same command, if you thinks so).</p></li><li><p>Multiple aliases will correspond to unique IDs of commands, and the command dispatcher will use the ID to acquire the command definition from the registry.</p></li><li><p>Command IDs are case sensitive, while command aliases are case insensitive.</p></li></ul><p>Let&rsquo;s suppose there is a command registered with ID <code>test</code>. By default, the ID of the command is automatically registered as an alias of the command. Here is an example demonstrating the differences between aliases and IDs:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=n>dispatcher</span><span class=p>.</span><span class=n>Register</span><span class=p>(</span><span class=n>entry</span><span class=p>,</span> <span class=n>routine</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=c1>// Entry is a command with ID &#34;test&#34;.</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Command IDs are case sensitive.</span>
</span></span><span class=line><span class=cl><span class=n>Console</span><span class=p>.</span><span class=n>WriteLine</span><span class=p>(</span><span class=n>dispatcher</span><span class=p>.</span><span class=n>AnyCommand</span><span class=p>(</span><span class=s>&#34;test&#34;</span><span class=p>));</span> <span class=c1>// True</span>
</span></span><span class=line><span class=cl><span class=n>Console</span><span class=p>.</span><span class=n>WriteLine</span><span class=p>(</span><span class=n>dispatcher</span><span class=p>.</span><span class=n>AnyCommand</span><span class=p>(</span><span class=s>&#34;TEST&#34;</span><span class=p>));</span> <span class=c1>// False</span>
</span></span><span class=line><span class=cl><span class=n>Console</span><span class=p>.</span><span class=n>WriteLine</span><span class=p>(</span><span class=n>dispatcher</span><span class=p>.</span><span class=n>AnyCommand</span><span class=p>(</span><span class=s>&#34;tEsT&#34;</span><span class=p>));</span> <span class=c1>// False</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Command aliases are case insensitive.</span>
</span></span><span class=line><span class=cl><span class=n>Console</span><span class=p>.</span><span class=n>WriteLine</span><span class=p>(</span><span class=n>dispatcher</span><span class=p>.</span><span class=n>HasAlias</span><span class=p>(</span><span class=s>&#34;TEST&#34;</span><span class=p>));</span> <span class=c1>// True</span>
</span></span><span class=line><span class=cl><span class=n>Console</span><span class=p>.</span><span class=n>WriteLine</span><span class=p>(</span><span class=n>dispatcher</span><span class=p>.</span><span class=n>HasAlias</span><span class=p>(</span><span class=s>&#34;test&#34;</span><span class=p>));</span> <span class=c1>// True</span>
</span></span><span class=line><span class=cl><span class=n>Console</span><span class=p>.</span><span class=n>WriteLine</span><span class=p>(</span><span class=n>dispatcher</span><span class=p>.</span><span class=n>HasAlias</span><span class=p>(</span><span class=s>&#34;TeSt&#34;</span><span class=p>));</span> <span class=c1>// True</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=platform-modules>Platform Modules</h2><p>The Anniversary Preview update introduces two Platform Modules, the GNU/Linux platform module and Windows platform module.</p><p>The two modules are bundled in a standard release package and is automatically enabled on their respective platforms.</p><h2 id=command-changes>Command Changes</h2><h3 id=bundled-commands>Bundled Commands</h3><ul><li><p>Added the new <code>CHMOD</code> command in the GNU/Linux platform module</p></li><li><p>Added the new <code>DATE</code> command for viewing date and time</p></li><li><p>Added the new <code>FIND</code> command for searching for text strings in pipeline input</p></li><li><p>Modified the syntax of the <code>PROMPT</code> command and the prompt itself to support more placeholders</p></li><li><p>Added the new <code>MEM</code> and <code>VOL</code>commands in the Windows platform module</p></li><li><p>Added the new <code>MORE</code> command to separate large chunk of text to pages with size determined by the size of the text buffer area of your terminal (emulator) window or screen.</p></li></ul><h3 id=command-help>Command Help</h3><p>The description of commands and its parameters are no longer hardcoded. Instead, the description will be shown as a localised message with automatically generated message ID.</p><p>The message ID format is shown as below:</p><div class=table-wrapper><table><thead><tr><th>Type</th><th>Message ID Format</th></tr></thead><tbody><tr><td>Command description</td><td><code>command.&lt;command-name>.description</code></td></tr><tr><td>Value parameter description</td><td><code>command.&lt;command-name>.value_&lt;reference-name>.description</code></td></tr><tr><td>Option parameter description</td><td><code>command.&lt;command-name>.option_&lt;identifier>.description</code></td></tr></tbody></table></div><h3 id=command-actions>Command Actions</h3><p>The support for a single ampersand to connect two commands have been added. A single ampersand means to execute the command to the right regardless of the result of the command to the left.</p><h3 id=argument-parsing>Argument Parsing</h3><p>The support for multiple integral types have been added to annotated commands. Currently this includes <code>Int32</code>, <code>Int64</code>, <code>Byte</code>, <code>SByte</code>, <code>Byte</code> and also <code>Enum</code>.</p><p>I plan to add this argument conversion service to non-annotated commands.</p><h2 id=in-the-end>In the end&mldr;</h2><p>I would like to thank <a class=link href=https://jetbrains.com/ target=_blank rel=noopener>JetBrains</a> for providing a free licence for their tools to help develop IceShell. Their tools have really helped me to make the later than much more major and important changes to the core systems. Without their tools, I would have costed much more time to may these important changes.</p><p>That&rsquo;s all for now! I will continue to add new features and updates to the Anniversary Preview and improve it further in the meanwhile.</p></section><footer class=article-footer><section class=article-tags><a href=/tags/iceshell/>iceshell</a>
<a href=/tags/dotnet/>dotnet</a>
<a href=/tags/shell/>shell</a>
<a href=/tags/command-line/>command-line</a></section><section class=article-copyright><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg><span>Licensed under CC BY-SA 4.0</span></section></footer></article><aside class=related-content--wrapper><h2 class=section-title>Related content</h2><div class=related-content><div class="flex article-list--tile"><article><a href=/p/ticks-and-loops-in-gta-v-scripting/><div class=article-details><h2 class=article-title>Ticks and Loops in GTA V Scripting</h2></div></a></article><article class=has-image><a href=/p/the-so-called-sponsorlink-and-how-to-replace-projects-with-it/><div class=article-image><img src=/p/the-so-called-sponsorlink-and-how-to-replace-projects-with-it/cover.3e796b2e6bc869ada3cde6714131e4eb_hu647669e9c69d2d183fad918664d18d93_427810_250x150_fill_box_smart1_3.png width=250 height=150 loading=lazy alt="Featured image of post The so-called SponsorLink and how to replace projects with it" data-hash="md5-PnlrLmvIaa2jzeZxQTHk6w=="></div><div class=article-details><h2 class=article-title>The so-called SponsorLink and how to replace projects with it</h2></div></a></article><article class=has-image><a href=/p/c-extension-.net-sdk-install-workaround/><div class=article-image><img src=/p/c-extension-.net-sdk-install-workaround/cover.360e1e6580c147d1396568b4dd6002d5_hu8059d1f55c7edbbc5e5a6017a410f465_24222_250x150_fill_box_smart1_3.png width=250 height=150 loading=lazy alt='Featured image of post C♯ Extension ".NET SDK Install" Workaround' data-hash="md5-Ng4eZYDBR9E5ZWi03WAC1Q=="></div><div class=article-details><h2 class=article-title>C♯ Extension ".NET SDK Install" Workaround</h2></div></a></article><article class=has-image><a href=/p/dotnet-hooks-for-gta-v-new-dotnet-brief-history-assumed-and-future/><div class=article-image><img src=/p/dotnet-hooks-for-gta-v-new-dotnet-brief-history-assumed-and-future/cover.110b53eafa47871453799034c46acec1_hu34084be3f110a043f4899b6afc30888b_842941_250x150_fill_box_smart1_3.png width=250 height=150 loading=lazy alt="Featured image of post Dotnet Hooks for GTA V: New DotNet, Brief History (assumed) and future" data-hash="md5-EQtT6vpHhxRTeZA0xGrOwQ=="></div><div class=article-details><h2 class=article-title>Dotnet Hooks for GTA V: New DotNet, Brief History (assumed) and future</h2></div></a></article><article><a href=/p/how-dotnet-process-shell-execute-works-on-linux/><div class=article-details><h2 class=article-title>How DotNet Process Shell Execute works on Linux</h2></div></a></article></div></div></aside><footer class=site-footer><section class=copyright>&copy;
2022 -
2023 WithLithum</section><section class=powerby>Built with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a><br>Theme <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.16.0>Stack</a></b> designed by <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a></section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>